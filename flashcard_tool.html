<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“š æš—è¨˜ã‚«ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3571574988222927" crossorigin="anonymous"></script>
    <meta name="google-adsense-account" content="ca-pub-3571574988222927">
    <style>
        body { margin: 0; background-color: #f4f7f6; font-family: Arial, sans-serif; color: #333; }
        
        .wrapper { 
            max-width: 1200px; 
            margin: 0 auto; 
            display: flex; 
            flex-direction: column; /* ã€é‡è¦ã€‘ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã¯ç¸¦ä¸¦ã³ */
            gap: 20px; 
            padding: 10px;
        }

        /* PCï¼ˆ768pxä»¥ä¸Šï¼‰ã®ãƒ¬ã‚¤ã‚¢ã‚¦ãƒˆ */
        @media (min-width: 768px) {
            .wrapper {
                flex-direction: row; /* æ¨ªä¸¦ã³ã«æˆ»ã™ */
                margin: 20px auto;
                padding: 0 20px;
            }
        }

        .main-content {
            flex-grow: 1;
            background-color: #fff;
            padding: 20px; 
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }

        @media (min-width: 768px) {
            .main-content { padding: 30px; }
        }

        h1 { text-align: center; color: #28a745; border-bottom: 3px solid #c3e6cb; padding-bottom: 10px; font-size: 1.5rem; }

        /* å…¥åŠ›ã‚¨ãƒªã‚¢ */
        .input-area {
            background-color: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            border: 1px solid #ddd;
        }
        .input-group { margin-bottom: 15px; }
        .input-group label { display: block; font-weight: bold; margin-bottom: 5px; font-size: 0.9rem; }
        .input-group input {
            width: 100%; padding: 12px; font-size: 16px; /* ã‚¹ãƒãƒ›ã®ã‚ºãƒ¼ãƒ é˜²æ­¢ */
            border: 1px solid #ccc; border-radius: 4px; box-sizing: border-box;
        }
        .add-btn {
            width: 100%; padding: 15px; background-color: #28a745; color: white;
            border: none; border-radius: 4px; font-size: 16px; font-weight: bold; cursor: pointer;
        }

        /* ãƒªã‚¹ãƒˆè¡¨ç¤º */
        .card-list-header {
            display: flex; flex-direction: column; gap: 10px; margin-bottom: 15px;
        }
        @media (min-width: 480px) {
            .card-list-header { flex-direction: row; justify-content: space-between; align-items: center; }
        }

        .study-btn {
            padding: 12px 20px; background-color: #007bff; color: white;
            border: none; border-radius: 4px; font-size: 16px; font-weight: bold; cursor: pointer;
        }

        li.card-item {
            background-color: #fff; border: 1px solid #ddd; padding: 12px;
            margin-bottom: 10px; border-radius: 4px; display: flex; justify-content: space-between; align-items: center;
        }
        .card-text { flex-grow: 1; word-break: break-all; }

        /* å­¦ç¿’ç”¨ãƒ¢ãƒ¼ãƒ€ãƒ« */
        .modal {
            display: none; position: fixed; z-index: 1000; left: 0; top: 0;
            width: 100%; height: 100%; background-color: rgba(0,0,0,0.9);
        }
        .modal-content {
            background-color: #fefefe; margin: 10% auto; padding: 0;
            border-radius: 10px; width: 95%; max-width: 500px;
            text-align: center; position: relative; overflow: hidden;
            min-height: 350px; display: flex; flex-direction: column;
        }

        .flashcard-container {
            flex-grow: 1; display: flex; justify-content: center; align-items: center;
            padding: 15px; cursor: pointer;
        }
        .flashcard {
            width: 100%; height: 250px; background-color: #fff; border: 2px solid #007bff;
            border-radius: 10px; display: flex; flex-direction: column; justify-content: center; align-items: center;
            font-size: 1.5rem; padding: 20px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        .flashcard.flipped { background-color: #e6f2ff; color: #0056b3; }

        .modal-footer { padding: 15px; background-color: #f1f1f1; display: flex; justify-content: space-between; align-items: center; }
        .nav-btn { padding: 10px 15px; font-size: 14px; cursor: pointer; border: 1px solid #ccc; background-color: white; border-radius: 4px; }

        /* ã‚µã‚¤ãƒ‰ãƒãƒ¼ */
        .sidebar { 
            width: 100%; box-sizing: border-box; padding: 20px; 
            background-color: #e9ecef; border-radius: 8px; 
        }
        @media (min-width: 768px) {
            .sidebar { width: 300px; }
        }
        .sidebar h3 { color: #007bff; border-bottom: 2px solid #b8daff; margin-top: 0; }
        .sidebar ul { list-style: none; padding: 0; }
        .sidebar li { margin-bottom: 10px; }
        .sidebar a { 
            text-decoration: none; color: #333; padding: 10px; 
            display: block; background-color: #fff; border-radius: 4px; 
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <div class="main-content">
            <h1>ğŸ“š æš—è¨˜ã‚«ãƒ¼ãƒ‰ãƒ¡ãƒ¼ã‚«ãƒ¼</h1>

            <div class="input-area">
                <div class="input-group">
                    <label>è¡¨é¢ (å•é¡Œ):</label>
                    <input type="text" id="card-front" placeholder="ä¾‹: Apple">
                </div>
                <div class="input-group">
                    <label>è£é¢ (ç­”ãˆ):</label>
                    <input type="text" id="card-back" placeholder="ä¾‹: ã‚Šã‚“ã”">
                </div>
                <button class="add-btn" onclick="addCard()">ã‚«ãƒ¼ãƒ‰ã‚’è¿½åŠ </button>
            </div>

            <div class="card-list-header">
                <h2>ã‚«ãƒ¼ãƒ‰ä¸€è¦§ (<span id="card-count">0</span>æš)</h2>
                <button class="study-btn" onclick="startStudy()">ğŸ“– å­¦ç¿’é–‹å§‹</button>
            </div>
            <ul id="card-list"></ul>
        </div>

        <div class="sidebar">
            <h3>ä¾¿åˆ©ãªãƒ„ãƒ¼ãƒ«é›†</h3>
            <ul id="dynamic-tool-list">
                <li>èª­è¾¼ä¸­...</li>
            </ul>
            <h3 style="margin-top: 30px;">ãƒ’ãƒ³ãƒˆ</h3>
            <p style="font-size: 0.85rem; color: #666;">
                ä½œæˆã—ãŸãƒ‡ãƒ¼ã‚¿ã¯ãƒ–ãƒ©ã‚¦ã‚¶ã«ä¿å­˜ã•ã‚Œã‚‹ã®ã§ã€é–‰ã˜ã¦ã‚‚æ¶ˆãˆã¾ã›ã‚“ã€‚
            </p>
             <script src="https://adm.shinobi.jp/s/585bd8c8c5bea64c2aa37a452ebecc0c"></script>
        </div>
    </div>

    <div id="study-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header" style="padding:10px; border-bottom:1px solid #ddd; display:flex; justify-content:space-between;">
                <strong>å­¦ç¿’ãƒ¢ãƒ¼ãƒ‰</strong>
                <span class="close-btn" style="cursor:pointer; font-size:24px;" onclick="closeStudy()">&times;</span>
            </div>
            <div class="flashcard-container" onclick="flipCard()">
                <div id="flashcard" class="flashcard">
                    <span id="flashcard-text" style="text-align:center;"></span>
                    <small id="flashcard-hint" style="font-size:0.8rem; color:#888; margin-top:15px;"></small>
                </div>
            </div>
            <div class="modal-footer">
                <button class="nav-btn" onclick="prevCard()">å‰ã¸</button>
                <span id="study-progress" style="font-size:0.9rem;"></span>
                <button class="nav-btn" onclick="nextCard()">æ¬¡ã¸</button>
            </div>
        </div>
    </div>

    <script>
        // --- ãƒ­ã‚¸ãƒƒã‚¯éƒ¨åˆ†ã¯ä¸€åˆ‡å¤‰æ›´ãªã— ---
        let cards = [];
        let currentCardIndex = 0;
        let isFlipped = false;

        document.addEventListener('DOMContentLoaded', () => {
            loadCards();
            renderList();
            loadSidebar();
        });

        function loadCards() {
            const stored = localStorage.getItem('myFlashcards');
            if (stored) cards = JSON.parse(stored);
        }

        function saveCards() {
            localStorage.setItem('myFlashcards', JSON.stringify(cards));
        }

        function addCard() {
            const f = document.getElementById('card-front');
            const b = document.getElementById('card-back');
            if (!f.value.trim() || !b.value.trim()) return alert('ä¸¡é¢å…¥åŠ›ã—ã¦ãã ã•ã„');
            cards.push({ front: f.value.trim(), back: b.value.trim() });
            saveCards(); renderList();
            f.value = ''; b.value = ''; f.focus();
        }

        function deleteCard(i) {
            if (confirm('å‰Šé™¤ã—ã¾ã™ã‹ï¼Ÿ')) {
                cards.splice(i, 1);
                saveCards(); renderList();
            }
        }

        function renderList() {
            const list = document.getElementById('card-list');
            document.getElementById('card-count').textContent = cards.length;
            list.innerHTML = cards.length ? '' : '<li style="color:#888; text-align:center;">ã‚«ãƒ¼ãƒ‰ã‚’è¿½åŠ ã—ã¦ãã ã•ã„</li>';
            cards.forEach((c, i) => {
                const li = document.createElement('li');
                li.className = 'card-item';
                li.innerHTML = `<div><strong>${escapeHtml(c.front)}</strong><br><small>${escapeHtml(c.back)}</small></div>
                                <button class="delete-btn" style="background:#dc3545; color:#fff; border:none; padding:5px 10px; border-radius:4px; cursor:pointer;" onclick="deleteCard(${i})">å‰Šé™¤</button>`;
                list.appendChild(li);
            });
        }

        function escapeHtml(s) { return s.replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":"&#039;"}[m])); }

        function startStudy() {
            if (!cards.length) return alert('ã‚«ãƒ¼ãƒ‰ãŒã‚ã‚Šã¾ã›ã‚“');
            currentCardIndex = 0; isFlipped = false;
            document.getElementById('study-modal').style.display = 'block';
            updateCardDisplay();
        }

        function closeStudy() { document.getElementById('study-modal').style.display = 'none'; }

        function updateCardDisplay() {
            const c = cards[currentCardIndex];
            const f = document.getElementById('flashcard');
            isFlipped = false;
            f.classList.remove('flipped');
            document.getElementById('flashcard-text').textContent = c.front;
            document.getElementById('flashcard-hint').textContent = "ã‚¿ãƒƒãƒ—ã—ã¦ç­”ãˆã‚’è¦‹ã‚‹";
            document.getElementById('study-progress').textContent = `${currentCardIndex + 1} / ${cards.length}`;
        }

        function flipCard() {
            const c = cards[currentCardIndex];
            const f = document.getElementById('flashcard');
            isFlipped = !isFlipped;
            f.classList.toggle('flipped');
            document.getElementById('flashcard-text').textContent = isFlipped ? c.back : c.front;
            document.getElementById('flashcard-hint').textContent = isFlipped ? "ã‚¿ãƒƒãƒ—ã—ã¦å•é¡Œã«æˆ»ã‚‹" : "ã‚¿ãƒƒãƒ—ã—ã¦ç­”ãˆã‚’è¦‹ã‚‹";
        }

        function nextCard() {
            if (currentCardIndex < cards.length - 1) { currentCardIndex++; updateCardDisplay(); }
            else if(confirm("æœ€å¾Œã§ã™ã€‚æœ€åˆã«æˆ»ã‚Šã¾ã™ã‹ï¼Ÿ")) { currentCardIndex = 0; updateCardDisplay(); }
        }

        function prevCard() { if (currentCardIndex > 0) { currentCardIndex--; updateCardDisplay(); } }

        async function loadSidebar() {
            try {
                const res = await fetch('tools.json');
                const tools = await res.json();
                document.getElementById('dynamic-tool-list').innerHTML = tools.slice(0, 4).map(t => 
                    `<li><a href="${t.href}">${t.icon} ${t.title}</a></li>`
                ).join('') + `<li><a href="tools_index.html" style="color:red; font-weight:bold;">âœ¨ ãã®ä»–</a></li>`;
            } catch (e) { console.error(e); }
        }
    </script>
</body>
</html>
