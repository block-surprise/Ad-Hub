<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="google-site-verification" content="QzpufK8Cl_B7crFUTFlAgQPzxa3RfE3NILhwN_26cwk" />
  <meta name="description" content="ここでは、メモを書いたり、そのメモをフォルダーにまとめる機能があります。フォルダーにまとめられるので忘れる心配もありません。">
  <title>メモフォルダー</title>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3571574988222927"
     crossorigin="anonymous"></script>
  <meta name="google-adsense-account" content="ca-pub-3571574988222927">
  <link rel="icon" type="image/png" sizes="48x48" href="/favicon2.png" />
   <!-- タブ用（ブラウザのアドレスバーやタブに表示） -->
<link rel="icon" type="image/png" sizes="16x16" href="/favicon.png">
  

<!-- 検索結果用（Googleが推奨する48×48以上） -->
<!-- 構造化データ（JSON-LD） -->
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "WebPage",
  "name": "メモフォルダー",
  "url": "https://ad-hub.f5.si/memo-folder",
  "description": "メモをフォルダーにまとめて管理できる便利なWebアプリです。",
  "inLanguage": "ja",
  "publisher": {
    "@type": "Organization",
    "name": "ad-hub",
    "url": "https://ad-hub.f5.si"
  }
}
</script>
  
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D6SC2D5KK4"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-D6SC2D5KK4');
  </script>
<script>
  // テーマ
const theme = localStorage.getItem('theme');
if (theme === 'dark') {
  document.documentElement.classList.add('dark');
}


  // フォント
  const font = localStorage.getItem('font');
  if (font) {
    document.body.style.fontFamily = font;
  }

  // 余白
  const padding = localStorage.getItem('padding');
  if (padding) {
    document.documentElement.style.setProperty('--padding', padding);
  }

  // Labs
  const labs = localStorage.getItem('labs');
  if (labs === 'on') {
    document.body.dataset.labs = 'on';
  }
</script>

<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>メモフォルダー</title>

 

  <style>
    :root {
      --bg: #f8f8f8;
      --text: #333;
      --card: #fff;
      --muted: #666;
      --border: #ccc;
      --padding: 32px;
    }
    :root.dark {
      --bg: #0f172a;
      --text: #f1f5f9;
      --card: #1e293b;
      --muted: #94a3b8;
      --border: #334155;
    }

    body {
      margin: 0;
      font-family: var(--font, 'Helvetica Neue', sans-serif);
      background: var(--bg);
      color: var(--text);
    }

    .header-row { display: flex; justify-content: space-between; align-items: center; padding: 16px; }
    .file-button-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 16px; padding: 16px; }
    .file-wrapper { position: relative; }

    .file-name-button {
      width: 100%;
      padding: 12px;
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text);
      cursor: pointer;
    }

    .delete-button {
      position: absolute; top: 6px; right: 6px;
      background: none; border: none; color: var(--muted);
      font-size: 16px; cursor: pointer;
    }

    .memo-card {
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 6px;
      padding: 12px;
      margin-bottom: 16px;
    }
    .memo-body { color: var(--muted); }

    .fab {
      position: fixed; bottom: 24px; right: 24px;
      background: var(--text); color: var(--bg);
      border-radius: 50%; width: 48px; height: 48px; font-size: 24px;
      display: flex; align-items: center; justify-content: center; cursor: pointer;
    }
    .fab-menu {
      position: fixed; bottom: 80px; right: 24px;
      background: var(--card); border: 1px solid var(--border);
      border-radius: 6px; display: none;
    }
    .fab-menu button {
      display: block; width: 100%; padding: 10px 16px;
      background: none; border: none; color: var(--text);
      text-align: left; cursor: pointer;
    }

    .modal {
      position: fixed; top: 0; left: 0; width: 100%; height: 100%;
      background: rgba(0,0,0,0.4); display: none;
      align-items: center; justify-content: center;
    }
    .modal-content {
      background: var(--card); color: var(--text);
      padding: 20px; border-radius: 8px; width: 90%; max-width: 400px;
    }
    .modal-content input, .modal-content textarea, .modal-content select {
      width: 100%; margin-bottom: 12px; padding: 8px;
      background: var(--bg); color: var(--text);
      border: 1px solid var(--border); border-radius: 4px;
    }
  </style>
</head>
<body>

  <div class="header-row">
    <h2>ファイル一覧</h2>
  </div>

  <div id="home-view">
    <div id="file-buttons" class="file-button-grid"></div>
  </div>

  <div id="memo-view" style="display:none; padding:16px;">
    <button onclick="backToHome()">← 戻る</button>
    <h2 id="memo-title"></h2>
    <div id="memo-list"></div>
  </div>

  <div class="fab" onclick="toggleFabMenu()">＋</div>
  <div class="fab-menu" id="fab-menu">
    <button onclick="openFileModal()">ファイル追加</button>
    <button onclick="openMemoModal()">メモ追加</button>
  </div>

  <div id="file-modal" class="modal">
    <div class="modal-content">
      <input type="text" id="file-name" placeholder="ファイル名" />
      <button onclick="confirmFile()">追加</button>
      <button onclick="closeFileModal()">キャンセル</button>
    </div>
  </div>

  <div id="memo-modal" class="modal">
    <div class="modal-content">
      <select id="memo-file-select"></select>
      <input type="text" id="memo-title-input" placeholder="メモのタイトル" />
      <textarea id="memo-body" rows="4" placeholder="詳細（任意）"></textarea>
      <button onclick="confirmMemo()">追加</button>
      <button onclick="closeMemoModal()">キャンセル</button>
    </div>
  </div>

  <script>
    // ---------- 状態 ----------
    let files = JSON.parse(localStorage.getItem('files') || '[]');
    let memos = JSON.parse(localStorage.getItem('memos') || '{}');
    let currentFile = null;

    // ---------- UI操作 ----------
    function toggleTheme() {
      const root = document.documentElement;
      const isDark = root.classList.contains('dark');
      if (isDark) {
        root.classList.remove('dark');
        localStorage.removeItem('theme');
      } else {
        root.classList.add('dark');
        localStorage.setItem('theme', 'dark');
      }
    }

    function toggleFabMenu() {
      const menu = document.getElementById('fab-menu');
      if (!menu) return;
      const display = getComputedStyle(menu).display;
      menu.style.display = (display === 'none') ? 'block' : 'none';
    }
    function closeFabMenu() {
      const menu = document.getElementById('fab-menu');
      if (!menu) return;
      menu.style.display = 'none';
    }

    // ---------- ファイル ----------
    function renderFileButtons() {
      const container = document.getElementById('file-buttons');
      container.innerHTML = '';
      files.forEach((name, index) => {
        const wrapper = document.createElement('div');
        wrapper.className = 'file-wrapper';
        const btn = document.createElement('button');
        btn.className = 'file-name-button';
        btn.textContent = name;
        btn.onclick = () => openMemoView(name);
        const del = document.createElement('button');
        del.className = 'delete-button';
        del.textContent = '×';
        del.onclick = (e) => { e.stopPropagation(); deleteFile(index); };
        wrapper.appendChild(btn);
        wrapper.appendChild(del);
        container.appendChild(wrapper);
      });
    }

    function openFileModal() {
      const modal = document.getElementById('file-modal');
      const input = document.getElementById('file-name');
      if (!modal || !input) return;
      input.value = '';
      modal.style.display = 'flex';
      closeFabMenu();
    }
    function closeFileModal() {
      const modal = document.getElementById('file-modal');
      if (!modal) return;
      modal.style.display = 'none';
    }
    function confirmFile() {
      const name = document.getElementById('file-name').value.trim();
      if (!name || files.includes(name)) return;
      files.unshift(name);
      localStorage.setItem('files', JSON.stringify(files));
      renderFileButtons();
      closeFileModal();
    }

    // ---------- メモ ----------
    function openMemoView(fileName) {
      currentFile = fileName;
      document.getElementById('memo-title').textContent = fileName;
      const list = document.getElementById('memo-list');
      const arr = (memos[fileName] || []);
      list.innerHTML = arr.map((memo, index) => `
        <div class="memo-card">
          <div class="memo-title">${memo.title}</div>
          ${memo.body ? `<div class="memo-body">${memo.body}</div>` : ''}
          <button onclick="deleteMemo('${fileName}', ${index})">削除</button>
        </div>
      `).join('');
      document.getElementById('home-view').style.display = 'none';
      document.getElementById('memo-view').style.display = 'block';
    }

    function backToHome() {
      currentFile = null;
      document.getElementById('memo-view').style.display = 'none';
      document.getElementById('home-view').style.display = 'block';
    }

    function openMemoModal() {
      const select = document.getElementById('memo-file-select');
      const modal = document.getElementById('memo-modal');
      if (!select || !modal) return;

      // ファイル選択肢を再構成
      select.innerHTML = '';
      files.forEach(name => {
        const option = document.createElement('option');
        option.value = name;
        option.textContent = name;
        select.appendChild(option);
      });

      // 入力初期化（IDは memo-title-input で統一）
      const titleInput = document.getElementById('memo-title-input');
      const bodyInput = document.getElementById('memo-body');
      if (titleInput) titleInput.value = '';
      if (bodyInput) bodyInput.value = '';

      modal.style.display = 'flex';
      closeFabMenu();
    }
    function closeMemoModal() {
      const modal = document.getElementById('memo-modal');
      if (!modal) return;
      modal.style.display = 'none';
    }

    function confirmMemo() {
      const file = document.getElementById('memo-file-select').value;
      const titleInput = document.getElementById('memo-title-input');
      const bodyInput = document.getElementById('memo-body');
      const title = titleInput ? titleInput.value.trim() : '';
      const body = bodyInput ? bodyInput.value.trim() : '';
      if (!file || !title) return;
      if (!memos[file]) memos[file] = [];
      memos[file].unshift({ title, body });
      localStorage.setItem('memos', JSON.stringify(memos));
      if (file === currentFile) openMemoView(file);
      renderFileButtons();
      closeMemoModal();
    }

    function deleteMemo(file, index) {
      if (!memos[file]) return;
      memos[file].splice(index, 1);
      localStorage.setItem('memos', JSON.stringify(memos));
      if (file === currentFile) openMemoView(file);
    }

    function deleteFile(index) {
      const name = files[index];
      files.splice(index, 1);
      delete memos[name];
      localStorage.setItem('files', JSON.stringify(files));
      localStorage.setItem('memos', JSON.stringify(memos));
      renderFileButtons();
      if (name === currentFile) {
        currentFile = null;
        backToHome();
      }
    }

    // 初期描画
    renderFileButtons();
  </script>
</body>
</html>





